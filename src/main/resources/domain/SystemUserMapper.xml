<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kevenpotter.student.dao.SystemUserDao">

    <!-- 根据[后台用户数据传输类]返回[后台用户实体类] -->
    <select id="getSystemUser" resultType="com.kevenpotter.student.domain.entity.SystemUserEntity">
        SELECT * FROM system_user su
        <where>
            <choose>
                <when test="systemUserDto.userId != null">
                    su.user_id = #{systemUserDto.userId}
                </when>
                <when test="systemUserDto.userMobile != null">
                    su.user_mobile = #{systemUserDto.userMobile}
                </when>
                <when test="systemUserDto.userEmail != null">
                    su.user_email = #{systemUserDto.userEmail}
                </when>
                <when test="systemUserDto.userNickName != null">
                    su.user_nickname = #{systemUserDto.userNickName}
                </when>
                <otherwise>
                    1 != 1
                </otherwise>
            </choose>
        </where>
    </select>

    <!-- 根据[用户昵称]返回[后台用户实体类] -->
    <select id="getSystemUserByNickname" resultType="com.kevenpotter.student.domain.entity.SystemUserEntity">
        SELECT *
        FROM system_user su
        WHERE su.user_nickname = #{userNickname};
    </select>

    <!-- 根据[用户邮箱]返回[后台用户实体类] -->
    <select id="getSystemUserByEmail" resultType="com.kevenpotter.student.domain.entity.SystemUserEntity">
        SELECT *
        FROM system_user su
        WHERE su.user_email = #{userEmail};
    </select>

    <!-- 根据[用户手机]返回[后台用户实体类] -->
    <select id="getSystemUserByMobile" resultType="com.kevenpotter.student.domain.entity.SystemUserEntity">
        SELECT *
        FROM system_user su
        WHERE su.user_mobile = #{userMobile};
    </select>

</mapper>