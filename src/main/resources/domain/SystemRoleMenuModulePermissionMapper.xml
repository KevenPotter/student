<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kevenpotter.student.dao.SystemRoleDao">

    <!-- 更新[系统角色-菜单-模块-权限实体] -->
    <update id="updateSystemRoleMenuModulePermission" parameterType="com.kevenpotter.student.domain.dto.SystemRoleMenuModulePermissionDto" useGeneratedKeys="true" keyProperty="systemRoleMenuModulePermissionDto.id" keyColumn="1">
        UPDATE `student`.`system_role_menu_module_permission`
        <trim prefix="SET" suffixOverrides=",">
            <if test="systemRoleMenuModulePermissionDto.permissions != null">
                `permissions`=#{systemRoleMenuModulePermissionDto.permissions}
            </if>
        </trim>
        WHERE (`role_id`=#{systemRoleMenuModulePermissionDto.roleId} AND `menu_id`=#{systemRoleMenuModulePermissionDto.menuId} AND `module_id`=#{systemRoleMenuModulePermissionDto.moduleId})
    </update>

</mapper>